(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-80e34dbc"],{2532:function(e,t,i){"use strict";var o=i("23e7"),a=i("5a34"),n=i("1d80"),r=i("ab13");o({target:"String",proto:!0,forced:!r("includes")},{includes:function(e){return!!~String(n(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},"5a34":function(e,t,i){var o=i("44e7");e.exports=function(e){if(o(e))throw TypeError("The method doesn't accept regular expressions");return e}},"634a":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("d2-container",[i("template",{slot:"header"},[i("div",{staticClass:"flex-header"},[i("div",{staticClass:"header-title"},[e._v(" 商品列表 ")]),i("div",[i("el-input",{attrs:{placeholder:"商品名称","suffix-icon":"el-icon-search"},model:{value:e.searchWords,callback:function(t){e.searchWords=t},expression:"searchWords"}}),i("el-input",{attrs:{placeholder:"最低价格","suffix-icon":"el-icon-caret-bottom"},model:{value:e.searchMinPrice,callback:function(t){e.searchMinPrice=t},expression:"searchMinPrice"}}),i("el-input",{attrs:{placeholder:"最高价格","suffix-icon":"el-icon-caret-top"},model:{value:e.searchMaxPrice,callback:function(t){e.searchMaxPrice=t},expression:"searchMaxPrice"}}),i("el-button",{on:{click:e.onSearch}},[i("i",{staticClass:"el-icon-search"}),e._v(" 搜索")]),i("el-button",{attrs:{type:"primary"},on:{click:e.addRow}},[i("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),e._v(" 添加商品")])],1)])]),i("el-card",[i("d2-crud",{ref:"d2Crud",attrs:{columns:e.columns,data:e.filterProducts.length?e.filterProducts:e.products,"add-title":"添加商品","add-template":e.addTemplate,rowHandle:e.rowHandle,"edit-title":"编辑商品信息","edit-template":e.editTemplate,"form-options":e.formOptions,loading:e.loading,pagination:e.pagination},on:{"pagination-current-change":e.paginationCurrentChange,"row-add":e.handleRowAdd,"row-edit":e.handleRowEdit,"row-remove":e.handleRowRemove,"dialog-cancel":e.handleDialogCancel}})],1),i("template",{slot:"footer"},[e._v("ZAdmin Created By "),i("a",{attrs:{href:""}},[e._v("@ZBW")]),e._v(" for D2-admin")])],2)},a=[],n=(i("4de4"),i("caad"),i("acd8"),i("2532"),{data:function(){return{searchWords:"",searchMinPrice:"",searchMaxPrice:"",filterProducts:[],columns:[{title:"ID",key:"id",width:"40"},{title:"名称",key:"title"},{title:"价格",key:"price",width:"80"},{title:"库存",key:"stock",width:"80"},{title:"销量",key:"saleCount",width:"80"},{title:"是否上架",key:"isSale",component:{name:"el-select",options:[{value:0,label:"否"},{value:1,label:"是"}]}},{title:"创建时间",key:"createTime"}],addTemplate:{createTime:{title:"创建日期",value:"2019-06-01",component:{name:"el-date-picker",span:12}},isSale:{title:"是否上架",value:0,component:{name:"el-select",options:[{value:0,label:"否"},{value:1,label:"是"}],span:12}},title:{title:"名称",value:"",span:24},price:{title:"价格",value:"",span:24}},rowHandle:{columnHeader:"操作",edit:{icon:"el-icon-edit",text:"编辑",size:"mini",show:function(e,t){return!!t.showEditButton},disabled:function(e,t){return!!t.forbidEdit}},remove:{icon:"el-icon-delete",size:"mini",text:"删除",fixed:"right",confirm:!0,show:function(e,t){return!!t.showRemoveButton}}},editTemplate:{createTime:{title:"创建日期",component:{name:"el-date-picker",span:12}},isSale:{title:"是否上架",component:{name:"el-select",options:[{value:0,label:"否"},{value:1,label:"是"}],span:12}},title:{title:"名称",span:24},price:{title:"价格",span:24},forbidEdit:{title:"禁用按钮",value:!1,component:{show:!1}},showEditButton:{title:"显示按钮",value:!0,component:{show:!1}}},formOptions:{labelWidth:"80px",labelPosition:"left",saveLoading:!1}}},created:function(){this.fetchData(),this.$store.commit("product/product/getProducts")},computed:{all_products:function(){return this.$store.getters["product/product/products"]},products:function(){return this.$store.getters["product/product/pageProducts"]},loading:function(){return this.$store.getters["product/product/loading"]},pagination:function(){return{currentPage:1,pageSize:5,background:!0,total:this.$store.getters["product/product/total"]}}},methods:{onSearch:function(){var e=this;this.filterProducts=this.all_products.filter((function(t){return e.searchWords?t.price>=parseFloat(e.searchMinPrice)&&t.price<=parseFloat(e.searchMaxPrice)&&t.title.includes(e.searchWords):t.price>=parseFloat(e.searchMinPrice)&&t.price<=parseFloat(e.searchMaxPrice)})),console.log("filterProducts: ",this.filterProducts)},addRow:function(){this.$refs.d2Crud.showDialog({mode:"add"})},handleRowAdd:function(e,t){var i=this;this.formOptions.saveLoading=!0,setTimeout((function(){console.log(e),i.$message({message:"保存成功",type:"success"}),t({price:"你虽然提交了 但是我能在这修改你显示在页面的内容！"}),i.formOptions.saveLoading=!1}),300)},handleRowEdit:function(e,t){var i=this,o=e.index,a=e.row;this.formOptions.saveLoading=!0,setTimeout((function(){console.log(o),console.log(a),i.$message({message:"编辑成功",type:"success"}),t({price:"你虽然在后台修改了价格，但是我能在这控制你在前台显示的内容"}),i.formOptions.saveLoading=!1}),300)},handleRowRemove:function(e,t){var i=this,o=e.index,a=e.row;setTimeout((function(){console.log(o),console.log(a),i.$message({message:"删除成功",type:"success"}),t()}),300)},handleDialogCancel:function(e){this.$message({message:"取消保存",type:"warning"}),e()},paginationCurrentChange:function(e){this.pagination.currentPage=e,this.fetchData()},fetchData:function(){this.$store.commit("product/product/getPageProducts",{pageSize:this.pagination.pageSize,currentPage:this.pagination.currentPage})}}}),r=n,c=(i("ba69"),i("2877")),s=function(e){e.options.__source="src/views/order/index.vue"},l=s,d=Object(c["a"])(r,o,a,!1,null,"7b55f16e",null);"function"===typeof l&&l(d);t["default"]=d.exports},"6fe5":function(e,t,i){var o=i("da84"),a=i("58a8").trim,n=i("5899"),r=o.parseFloat,c=1/r(n+"-0")!==-1/0;e.exports=c?function(e){var t=a(String(e)),i=r(t);return 0===i&&"-"==t.charAt(0)?-0:i}:r},ab13:function(e,t,i){var o=i("b622"),a=o("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[a]=!1,"/./"[e](t)}catch(o){}}return!1}},acd8:function(e,t,i){var o=i("23e7"),a=i("6fe5");o({global:!0,forced:parseFloat!=a},{parseFloat:a})},ba69:function(e,t,i){"use strict";var o=i("d4f2"),a=i.n(o);a.a},caad:function(e,t,i){"use strict";var o=i("23e7"),a=i("4d64").includes,n=i("44d2");o({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")},d4f2:function(e,t,i){}}]);